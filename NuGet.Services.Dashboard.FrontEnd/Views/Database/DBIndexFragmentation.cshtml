@using System;
@using System.Collections.Generic;
@using System.Linq;
@using NuGet.Services.Dashboard.Common;
@model List<DatabaseIndex>
           <div class="fg-color-darken">
    <table class="hovered">
        <tbody>
            <tr>
                <th>
                    TableName
                </th>
                <th>
                    IndexName
                </th>
                <th>
                    Fragmentation%
                </th>
                <th>
                    Status
                </th>

            </tr>
            @foreach (DatabaseIndex dbIndex in @Model)
            {
                <tr>
                    <td>
                        @dbIndex.ObjectName
                    </td>
                    <td>
                        @dbIndex.IndexName
                    </td>
                    <td>
                        @dbIndex.Fragmentation
                    </td>
                    <td>
                        @if (@dbIndex.Fragmentation < 30)
                        {
                            <span class="square bg-color-green"></span>
                        }
                        else if (@dbIndex.Fragmentation < 40)
                        {
                            <span class="square bg-color-orange"></span>
                        }
                        else
                        {
                            <span class="square bg-color-red"></span>
                        }
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

